document.querySelectorAll("button.moving").forEach((function(movingButton){movingButton.addEventListener("click",(async function(event){const formData=new FormData;formData.append("moving_product_stock_form[preProduct]",event.currentTarget.dataset.product);formData.append("moving_product_stock_form[preOffer]",event.currentTarget.dataset.offer);formData.append("moving_product_stock_form[preVariation]",event.currentTarget.dataset.variation);formData.append("moving_product_stock_form[preModification]",event.currentTarget.dataset.modification);formData.append("moving_product_stock_form[targetWarehouse]",event.currentTarget.dataset.target);formData.append("moving_product_stock_form[destinationWarehouse]",event.currentTarget.dataset.profile);await fetch(event.currentTarget.dataset.href,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"},redirect:"follow",referrerPolicy:"no-referrer",body:formData}).then((response=>{if(response.status!==200){return false}return response.text()})).then((data=>{if(data){const modal=document.getElementById("modal");modal.innerHTML=data;modal.querySelectorAll('[data-select="select2"]').forEach((function(item){new NiceSelect(item,{searchable:true})}))}}))}))}));